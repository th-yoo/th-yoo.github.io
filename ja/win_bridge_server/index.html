<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>X Window最小限のサーバ | Less is More</title>
    <meta name="description" content="For my poor memory">
    <link rel="stylesheet" href="/assets/style.3d4e16a3.css">
    <link rel="modulepreload" href="/assets/Home.ebd3928e.js">
    <link rel="modulepreload" href="/assets/app.b2aa9d0b.js">
    <link rel="modulepreload" href="/assets/ja_win_bridge_server_index.md.67d5eb67.lean.js">
    <link rel="modulepreload" href="/assets/app.b2aa9d0b.js">
    <meta name="twitter:title" content="X Window最小限のサーバ | Less is More">
    <meta property="og:title" content="X Window最小限のサーバ | Less is More">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-5df6160f><div class="sidebar-button" data-v-5df6160f><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Less is More, back to home" data-v-5df6160f data-v-8dbfef3c><!----> Less is More</a><div class="flex-grow" data-v-5df6160f></div><div class="nav" data-v-5df6160f><nav class="nav-links" data-v-5df6160f data-v-38e3b123><!--[--><!--]--><div class="item" data-v-38e3b123><div class="nav-dropdown-link" data-v-38e3b123 data-v-6bbf01f6><button class="button" data-v-6bbf01f6><span class="button-text" data-v-6bbf01f6>言語</span><span class="right button-arrow" data-v-6bbf01f6></span></button><ul class="dialog" data-v-6bbf01f6><!--[--><li class="dialog-item" data-v-6bbf01f6><div class="nav-dropdown-link-item" data-v-6bbf01f6 data-v-d552fd76><a class="item" href="/win_bridge_server/index.html" data-v-d552fd76><span class="arrow" data-v-d552fd76></span><span class="text" data-v-d552fd76>English</span><span class="icon" data-v-d552fd76><!----></span></a></div></li><li class="dialog-item" data-v-6bbf01f6><div class="nav-dropdown-link-item" data-v-6bbf01f6 data-v-d552fd76><a class="item" href="/ko/win_bridge_server/index.html" data-v-d552fd76><span class="arrow" data-v-d552fd76></span><span class="text" data-v-d552fd76>한국어</span><span class="icon" data-v-d552fd76><!----></span></a></div></li><li class="dialog-item" data-v-6bbf01f6><div class="nav-dropdown-link-item" data-v-6bbf01f6 data-v-d552fd76><a class="item active" href="/ja/win_bridge_server/index.html" data-v-d552fd76><span class="arrow" data-v-d552fd76></span><span class="text" data-v-d552fd76>日本語</span><span class="icon" data-v-d552fd76><!----></span></a></div></li><!--]--></ul></div></div><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-58e261f2><nav class="nav-links nav" data-v-58e261f2 data-v-38e3b123><!--[--><!--]--><div class="item" data-v-38e3b123><div class="nav-dropdown-link" data-v-38e3b123 data-v-6bbf01f6><button class="button" data-v-6bbf01f6><span class="button-text" data-v-6bbf01f6>言語</span><span class="right button-arrow" data-v-6bbf01f6></span></button><ul class="dialog" data-v-6bbf01f6><!--[--><li class="dialog-item" data-v-6bbf01f6><div class="nav-dropdown-link-item" data-v-6bbf01f6 data-v-d552fd76><a class="item" href="/win_bridge_server/index.html" data-v-d552fd76><span class="arrow" data-v-d552fd76></span><span class="text" data-v-d552fd76>English</span><span class="icon" data-v-d552fd76><!----></span></a></div></li><li class="dialog-item" data-v-6bbf01f6><div class="nav-dropdown-link-item" data-v-6bbf01f6 data-v-d552fd76><a class="item" href="/ko/win_bridge_server/index.html" data-v-d552fd76><span class="arrow" data-v-d552fd76></span><span class="text" data-v-d552fd76>한국어</span><span class="icon" data-v-d552fd76><!----></span></a></div></li><li class="dialog-item" data-v-6bbf01f6><div class="nav-dropdown-link-item" data-v-6bbf01f6 data-v-d552fd76><a class="item active" href="/ja/win_bridge_server/index.html" data-v-d552fd76><span class="arrow" data-v-d552fd76></span><span class="text" data-v-d552fd76>日本語</span><span class="icon" data-v-d552fd76><!----></span></a></div></li><!--]--></ul></div></div><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-58e261f2><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="#要件">要件</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#ubuntu-iso-イメージ">Ubuntu ISO イメージ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#x-ウィンドウ">X ウィンドウ</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#設置順序">設置順序</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#x-ターミナル">X ターミナル</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#編集機">編集機</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#sshd">SSHD</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#ウェブ・サーバ">ウェブ・サーバ</a><!----></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-d36a7fda><div class="container" data-v-d36a7fda><!--[--><!--]--><div class="content" data-v-d36a7fda><div data-v-d36a7fda><h1 id="x-window最小限のサーバ"><a class="header-anchor" href="#x-window最小限のサーバ" aria-hidden="true">#</a> X Window最小限のサーバ</h1><h2 id="要件"><a class="header-anchor" href="#要件" aria-hidden="true">#</a> 要件</h2><ul><li>小さくて軽いこと <ul><li>Vultrの安いプランの仮想マシンに設置するため</li><li>ディスクを占めるサイズが小さいこｋと</li><li>メモリーを小さく使うこと</li><li>低いCPUパワーで動作すること</li></ul></li><li>X ウィンドウ・システム <ul><li>MSウィンドウズのアプリを実行するため、GUI必須</li><li>X Forwarding</li></ul></li><li>容易な管理 <ul><li>Vultr</li><li>Ubuntu</li></ul></li></ul><h2 id="ubuntu-iso-イメージ"><a class="header-anchor" href="#ubuntu-iso-イメージ" aria-hidden="true">#</a> Ubuntu ISO イメージ</h2><ul><li><a href="http://archive.ubuntu.com/ubuntu/dists/focal/main/installer-amd64/current/legacy-images/netboot/mini.iso" target="_blank" rel="noopener noreferrer">Ubuntu 20.04 focal mini.iso</a></li><li><code>$ du / -sh</code> =&gt; 3.7 GB</li></ul><h2 id="x-ウィンドウ"><a class="header-anchor" href="#x-ウィンドウ" aria-hidden="true">#</a> X ウィンドウ</h2><h4 id="ウィンドウ・マネージャ"><a class="header-anchor" href="#ウィンドウ・マネージャ" aria-hidden="true">#</a> ウィンドウ・マネージャ</h4><ul><li><a href="https://wiki.debian.org/WindowManager" target="_blank" rel="noopener noreferrer">種類</a></li><li><a href="https://en.wikipedia.org/wiki/Comparison_of_X_window_managers" target="_blank" rel="noopener noreferrer">比較</a></li><li><a href="https://ice-wm.org/" target="_blank" rel="noopener noreferrer">IceWM</a><ul><li>軽いWMの中で生きているプロジェクト</li></ul></li></ul><h4 id="ディスプレイ・マネージャ-ログイン"><a class="header-anchor" href="#ディスプレイ・マネージャ-ログイン" aria-hidden="true">#</a> ディスプレイ・マネージャ (ログイン)</h4><ul><li><a href="https://wiki.debian.org/DisplayManager" target="_blank" rel="noopener noreferrer">種類</a></li><li><a href="https://en.wikipedia.org/wiki/SLiM" target="_blank" rel="noopener noreferrer">SLiM</a><ul><li>名前通り軽い</li><li>2013年以後、それ以上開発無し</li><li>現在Ubuntu focal(20.04)上、問題なく動作</li><li>筆者は要らないため、削除</li></ul></li></ul><h3 id="設置順序"><a class="header-anchor" href="#設置順序" aria-hidden="true">#</a> 設置順序</h3><p><a href="https://askubuntu.com/questions/1256285/installing-xorg-without-gnome" target="_blank" rel="noopener noreferrer">注意:</a> xinitは、必ずIceWMを先に設置してから設置すること。そうしないと、xinitの設置がGnomeを設置してしまう</p><h4 id="x-ウィンドウ-1"><a class="header-anchor" href="#x-ウィンドウ-1" aria-hidden="true">#</a> X ウィンドウ</h4><p><code>$ sudo apt-get install xserver-xorg-core --no-install-recommends --no-install-suggests</code></p><ul><li>サイズ: 393 MB</li></ul><h4 id="icewm"><a class="header-anchor" href="#icewm" aria-hidden="true">#</a> IceWM</h4><p><code>$ sudo apt-get install icewm --no-install-recommends --no-install-suggests</code></p><ul><li>サイズ: 14.3 MB</li></ul><h4 id="xinit"><a class="header-anchor" href="#xinit" aria-hidden="true">#</a> xinit</h4><p><code>$ sudo apt-get install xinit</code></p><ul><li>サイズ: 37.7 MB</li></ul><h4 id="後処理"><a class="header-anchor" href="#後処理" aria-hidden="true">#</a> 後処理</h4><ul><li>筆者のようにデスクトップ環境が不要な場合 <ul><li><code>$ sudo apt-get remove icewm --purge</code></li></ul></li><li>必要な場合、SLiM設置</li></ul><h4 id="slim-optional"><a class="header-anchor" href="#slim-optional" aria-hidden="true">#</a> SLiM (Optional)</h4><p><code>$ sudo apt-get install slim</code></p><ul><li>サイズ: 5,494 KB</li></ul><h2 id="x-ターミナル"><a class="header-anchor" href="#x-ターミナル" aria-hidden="true">#</a> X ターミナル</h2><p>最初はrxvt-unicodeを試してみたが、サイズ(65.4 MB)が小さくもないのに結構不便</p><h4 id="mate-terminal"><a class="header-anchor" href="#mate-terminal" aria-hidden="true">#</a> mate-terminal</h4><p><code>$ sudo apt-get install mate-terminal</code></p><ul><li>サイズ: 83.5 MB</li></ul><h2 id="編集機"><a class="header-anchor" href="#編集機" aria-hidden="true">#</a> 編集機</h2><h4 id="gvim"><a class="header-anchor" href="#gvim" aria-hidden="true">#</a> gvim</h4><p><code>$ sudo apt-get install vim-gtk3</code></p><ul><li>サイズ: 95.1 MB</li></ul><h2 id="sshd"><a class="header-anchor" href="#sshd" aria-hidden="true">#</a> SSHD</h2><h4 id="設置"><a class="header-anchor" href="#設置" aria-hidden="true">#</a> 設置</h4><p><code>$ sudo apt-get install openssh-server</code></p><ul><li>サイズ: 6,121 KB</li></ul><h4 id="x-forwarding-設定"><a class="header-anchor" href="#x-forwarding-設定" aria-hidden="true">#</a> X Forwarding 設定</h4><ol><li><code>$ sudo vim /etc/ssh/sshd_config</code></li><li>X11Forwarding, X11DisplayOffset, X11UseLocalhostのコメントを外す</li></ol><div class="language-"><pre><code>X11Forwarding yes
X11DisplayOffset 10
X11UseLocalhost yes
</code></pre></div><ol start="3"><li><code>$ sudo systemctl restart sshd</code></li></ol><h4 id="x-forwarding-client"><a class="header-anchor" href="#x-forwarding-client" aria-hidden="true">#</a> X Forwarding Client</h4><p><code>$ ssh -Y [アカウント@]&lt;SERVER_URL&gt;</code></p><h4 id="rootではx-forwarding"><a class="header-anchor" href="#rootではx-forwarding" aria-hidden="true">#</a> rootではX Forwarding</h4><p>sudo又はsuにて他のユーザーとしてGUIプログラムを実行すると、失敗</p><ul><li>例）<code>$ sudo xclock</code></li><li><a href="http://wiki.docking.org/index.php/How_to_access_X11_Forwarding_after_becoming_root" target="_blank" rel="noopener noreferrer">/root/.Xauthorityに$DISPLAY追加</a>することで解決 <ul><li><code>$ sudo xauth add $(xauth -f ~generic_user/.Xauthority list | tail -1)</code></li></ul></li></ul><h2 id="ウェブ・サーバ"><a class="header-anchor" href="#ウェブ・サーバ" aria-hidden="true">#</a> <a href="https://coderrocketfuel.com/article/deploy-a-react-application-to-vultr" target="_blank" rel="noopener noreferrer">ウェブ・サーバ</a></h2></div></div><footer class="page-footer" data-v-d36a7fda data-v-5a019cc9><div class="edit" data-v-5a019cc9><div class="edit-link" data-v-5a019cc9 data-v-3ae295f1><!----></div></div><div class="updated" data-v-5a019cc9><!----></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"b2ad3b8e\",\"ja_index.md\":\"1e085556\",\"ko_index.md\":\"e5b4c480\",\"win_bridge_server_index.md\":\"62b4cc49\",\"ja_win_bridge_server_index.md\":\"67d5eb67\",\"ko_win_bridge_server_chroot_jail.md\":\"fdeeee7a\",\"ko_win_bridge_server_index.md\":\"1bdf4947\",\"ko_win_bridge_server_msys2.md\":\"630205b4\",\"ko_win_bridge_server_wine.md\":\"062fbac5\"}")</script>
    <script type="module" async src="/assets/app.b2aa9d0b.js"></script>
  </body>
</html>