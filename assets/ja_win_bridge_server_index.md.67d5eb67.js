import{o as e,c as a,b as i}from"./app.b2aa9d0b.js";const r='{"title":"X Window最小限のサーバ","description":"","frontmatter":{"lang":"ja-JP","title":"X Window最小限のサーバ","navbar":true,"sidebar":"auto"},"headers":[{"level":2,"title":"要件","slug":"要件"},{"level":2,"title":"Ubuntu ISO イメージ","slug":"ubuntu-iso-イメージ"},{"level":2,"title":"X ウィンドウ","slug":"x-ウィンドウ"},{"level":3,"title":"設置順序","slug":"設置順序"},{"level":2,"title":"X ターミナル","slug":"x-ターミナル"},{"level":2,"title":"編集機","slug":"編集機"},{"level":2,"title":"SSHD","slug":"sshd"},{"level":2,"title":"ウェブ・サーバ","slug":"ウェブ・サーバ"}],"relativePath":"ja/win_bridge_server/index.md","lastUpdated":1623506373096}',l={},t=i('<h1 id="x-window最小限のサーバ"><a class="header-anchor" href="#x-window最小限のサーバ" aria-hidden="true">#</a> X Window最小限のサーバ</h1><h2 id="要件"><a class="header-anchor" href="#要件" aria-hidden="true">#</a> 要件</h2><ul><li>小さくて軽いこと <ul><li>Vultrの安いプランの仮想マシンに設置するため</li><li>ディスクを占めるサイズが小さいこｋと</li><li>メモリーを小さく使うこと</li><li>低いCPUパワーで動作すること</li></ul></li><li>X ウィンドウ・システム <ul><li>MSウィンドウズのアプリを実行するため、GUI必須</li><li>X Forwarding</li></ul></li><li>容易な管理 <ul><li>Vultr</li><li>Ubuntu</li></ul></li></ul><h2 id="ubuntu-iso-イメージ"><a class="header-anchor" href="#ubuntu-iso-イメージ" aria-hidden="true">#</a> Ubuntu ISO イメージ</h2><ul><li><a href="http://archive.ubuntu.com/ubuntu/dists/focal/main/installer-amd64/current/legacy-images/netboot/mini.iso" target="_blank" rel="noopener noreferrer">Ubuntu 20.04 focal mini.iso</a></li><li><code>$ du / -sh</code> =&gt; 3.7 GB</li></ul><h2 id="x-ウィンドウ"><a class="header-anchor" href="#x-ウィンドウ" aria-hidden="true">#</a> X ウィンドウ</h2><h4 id="ウィンドウ・マネージャ"><a class="header-anchor" href="#ウィンドウ・マネージャ" aria-hidden="true">#</a> ウィンドウ・マネージャ</h4><ul><li><a href="https://wiki.debian.org/WindowManager" target="_blank" rel="noopener noreferrer">種類</a></li><li><a href="https://en.wikipedia.org/wiki/Comparison_of_X_window_managers" target="_blank" rel="noopener noreferrer">比較</a></li><li><a href="https://ice-wm.org/" target="_blank" rel="noopener noreferrer">IceWM</a><ul><li>軽いWMの中で生きているプロジェクト</li></ul></li></ul><h4 id="ディスプレイ・マネージャ-ログイン"><a class="header-anchor" href="#ディスプレイ・マネージャ-ログイン" aria-hidden="true">#</a> ディスプレイ・マネージャ (ログイン)</h4><ul><li><a href="https://wiki.debian.org/DisplayManager" target="_blank" rel="noopener noreferrer">種類</a></li><li><a href="https://en.wikipedia.org/wiki/SLiM" target="_blank" rel="noopener noreferrer">SLiM</a><ul><li>名前通り軽い</li><li>2013年以後、それ以上開発無し</li><li>現在Ubuntu focal(20.04)上、問題なく動作</li><li>筆者は要らないため、削除</li></ul></li></ul><h3 id="設置順序"><a class="header-anchor" href="#設置順序" aria-hidden="true">#</a> 設置順序</h3><p><a href="https://askubuntu.com/questions/1256285/installing-xorg-without-gnome" target="_blank" rel="noopener noreferrer">注意:</a> xinitは、必ずIceWMを先に設置してから設置すること。そうしないと、xinitの設置がGnomeを設置してしまう</p><h4 id="x-ウィンドウ-1"><a class="header-anchor" href="#x-ウィンドウ-1" aria-hidden="true">#</a> X ウィンドウ</h4><p><code>$ sudo apt-get install xserver-xorg-core --no-install-recommends --no-install-suggests</code></p><ul><li>サイズ: 393 MB</li></ul><h4 id="icewm"><a class="header-anchor" href="#icewm" aria-hidden="true">#</a> IceWM</h4><p><code>$ sudo apt-get install icewm --no-install-recommends --no-install-suggests</code></p><ul><li>サイズ: 14.3 MB</li></ul><h4 id="xinit"><a class="header-anchor" href="#xinit" aria-hidden="true">#</a> xinit</h4><p><code>$ sudo apt-get install xinit</code></p><ul><li>サイズ: 37.7 MB</li></ul><h4 id="後処理"><a class="header-anchor" href="#後処理" aria-hidden="true">#</a> 後処理</h4><ul><li>筆者のようにデスクトップ環境が不要な場合 <ul><li><code>$ sudo apt-get remove icewm --purge</code></li></ul></li><li>必要な場合、SLiM設置</li></ul><h4 id="slim-optional"><a class="header-anchor" href="#slim-optional" aria-hidden="true">#</a> SLiM (Optional)</h4><p><code>$ sudo apt-get install slim</code></p><ul><li>サイズ: 5,494 KB</li></ul><h2 id="x-ターミナル"><a class="header-anchor" href="#x-ターミナル" aria-hidden="true">#</a> X ターミナル</h2><p>最初はrxvt-unicodeを試してみたが、サイズ(65.4 MB)が小さくもないのに結構不便</p><h4 id="mate-terminal"><a class="header-anchor" href="#mate-terminal" aria-hidden="true">#</a> mate-terminal</h4><p><code>$ sudo apt-get install mate-terminal</code></p><ul><li>サイズ: 83.5 MB</li></ul><h2 id="編集機"><a class="header-anchor" href="#編集機" aria-hidden="true">#</a> 編集機</h2><h4 id="gvim"><a class="header-anchor" href="#gvim" aria-hidden="true">#</a> gvim</h4><p><code>$ sudo apt-get install vim-gtk3</code></p><ul><li>サイズ: 95.1 MB</li></ul><h2 id="sshd"><a class="header-anchor" href="#sshd" aria-hidden="true">#</a> SSHD</h2><h4 id="設置"><a class="header-anchor" href="#設置" aria-hidden="true">#</a> 設置</h4><p><code>$ sudo apt-get install openssh-server</code></p><ul><li>サイズ: 6,121 KB</li></ul><h4 id="x-forwarding-設定"><a class="header-anchor" href="#x-forwarding-設定" aria-hidden="true">#</a> X Forwarding 設定</h4><ol><li><code>$ sudo vim /etc/ssh/sshd_config</code></li><li>X11Forwarding, X11DisplayOffset, X11UseLocalhostのコメントを外す</li></ol><div class="language-"><pre><code>X11Forwarding yes\nX11DisplayOffset 10\nX11UseLocalhost yes\n</code></pre></div><ol start="3"><li><code>$ sudo systemctl restart sshd</code></li></ol><h4 id="x-forwarding-client"><a class="header-anchor" href="#x-forwarding-client" aria-hidden="true">#</a> X Forwarding Client</h4><p><code>$ ssh -Y [アカウント@]&lt;SERVER_URL&gt;</code></p><h4 id="rootではx-forwarding"><a class="header-anchor" href="#rootではx-forwarding" aria-hidden="true">#</a> rootではX Forwarding</h4><p>sudo又はsuにて他のユーザーとしてGUIプログラムを実行すると、失敗</p><ul><li>例）<code>$ sudo xclock</code></li><li><a href="http://wiki.docking.org/index.php/How_to_access_X11_Forwarding_after_becoming_root" target="_blank" rel="noopener noreferrer">/root/.Xauthorityに$DISPLAY追加</a>することで解決 <ul><li><code>$ sudo xauth add $(xauth -f ~generic_user/.Xauthority list | tail -1)</code></li></ul></li></ul><h2 id="ウェブ・サーバ"><a class="header-anchor" href="#ウェブ・サーバ" aria-hidden="true">#</a> <a href="https://coderrocketfuel.com/article/deploy-a-react-application-to-vultr" target="_blank" rel="noopener noreferrer">ウェブ・サーバ</a></h2>',49);l.render=function(i,r,l,o,n,d){return e(),a("div",null,[t])};export default l;export{r as __pageData};
